<?php

// ----------------------------------------
// CONFIGURATION FOR ROUNDCUBE
// ----------------------------------------
$config['db_dsnw'] = '{{ roundcube_db_dsnw }}';
$config['default_host'] = '{{ roundcube_default_host }}';

$config['log_driver'] = 'file';
$config['log_dir'] = '/var/log/roundcube';
$config['debug_level'] = 1;
$config['log_file'] = 'errors.log';

// ----------------------------------------
// POSTFIX CONFIGURATION FOR ROUNDCUBE
// ----------------------------------------
$config['smtp_host'] = '{{ roundcube_smtp_server }}:{{ roundcube_smtp_port }}';

// Désactiver l'authentification SMTP anonyme
$config['smtp_auth_type'] = 'LOGIN';

// Utiliser le même nom d'utilisateur et mot de passe pour SMTP
$config['smtp_user'] = '%u';
$config['smtp_pass'] = '%p';

$config['smtp_conn_options'] = null;

// Forcer l'authentification SMTP
$config['smtp_auth_cid'] = null;
$config['smtp_auth_pw'] = null;

$config['smtp_debug'] = true;

// ----------------------------------------
// DOVECOT CONFIGURATION FOR ROUNDCUBE
// ----------------------------------------
$config['default_host'] = '127.0.0.1';
$config['default_port'] = 143;

$config['imap_auth_type'] = 'LOGIN';
$config['username_domain'] = '';

$config['imap_conn_options'] = array(
    'ssl' => array(
        'verify_peer' => false,
        'verify_peer_name' => false
    )
);
$config['imap_debug'] = true;


$config['create_default_folders'] = true;
$config['default_imap_folders'] = array('INBOX', 'Drafts', 'Sent', 'Junk', 'Trash');

// Création automatique d'utilisateurs
$config['auto_create_user'] = true;


// ----------------------------------------
// OPENLDAP CONFIGURATION FOR ROUNDCUBE
// ----------------------------------------

$config['login_ldap'] = false;
?>
